(window["webpackJsonpspa-manager"]=window["webpackJsonpspa-manager"]||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/avatar.a56b0f14.svg"},112:function(e,t,a){e.exports=a.p+"static/media/logo.f866dbab.svg"},131:function(e,t,a){e.exports=a(273)},137:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(136),a(137);var i=a(40),c=a(30),o=a(23),p=a(107),m=a.n(p),s=a(304),u=a(67),d=a(307),b=a(303),f=a(62),E=a(293),h=a(294),g=a(295),v=a(311),O=a(289),y=a(290),j=a(282),w=a(285),k=a(286),S=a(287),P=a(288),T=a(305),A=a(309),D=a(310),x=a(283),I=a(284),C=a(9),N=a(45),R=a.n(N),F=a(110),L=a.n(F),q=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(o.a)(i,2),p=c[0],m=c[1];var u=[r.a.createElement(j.a,null,r.a.createElement(x.a,null)," Notifications"),r.a.createElement(j.a,null,r.a.createElement(I.a,null)," Settings")],d=[r.a.createElement(j.a,{key:"link-1"},"Link"),r.a.createElement(j.a,{key:"link-2",component:"button"},"Action"),r.a.createElement(j.a,{key:"link-3",isDisabled:!0},"Disabled Link"),r.a.createElement(j.a,{key:"link-4",isDisabled:!0,component:"button"},"Disabled Action"),r.a.createElement(w.a,{key:"link-separator"}),r.a.createElement(j.a,{key:"link-5"},"Separated Link"),r.a.createElement(j.a,{key:"link-6",component:"button"},"Separated Action")];return r.a.createElement(k.a,null,r.a.createElement(S.a,{className:Object(C.b)(R.a.screenReader,R.a.visibleOnLg)},r.a.createElement(P.a,null,r.a.createElement(s.a,{id:"simple-example-uid-01","aria-label":"Notifications actions",variant:s.b.plain},r.a.createElement(x.a,null))),r.a.createElement(P.a,null,r.a.createElement(s.a,{id:"simple-example-uid-02","aria-label":"Settings actions",variant:s.b.plain},r.a.createElement(I.a,null)))),r.a.createElement(S.a,null,r.a.createElement(P.a,{className:Object(C.b)(R.a.hiddenOnLg,L.a.mr_0)},r.a.createElement(T.a,{isPlain:!0,position:"right",toggle:r.a.createElement(A.a,{onToggle:function(e){console.log("hello"),m(e)}}),isOpen:p,dropdownItems:u})),r.a.createElement(P.a,{className:Object(C.b)(R.a.screenReader,R.a.visibleOnMd)},r.a.createElement(T.a,{isPlain:!0,position:"right",isOpen:a,toggle:r.a.createElement(D.a,{onToggle:function(e){l(e)}},"Kun Yan"),dropdownItems:d}))))},z=a(111),H=a.n(z),B=a(112),G=a.n(B),J=function(){return r.a.createElement(v.a,{logo:r.a.createElement(O.a,{src:G.a,alt:"SPAship Logo",width:"55%"}),toolbar:r.a.createElement(q,null),avatar:r.a.createElement(y.a,{src:H.a,alt:"Avatar image"}),showNavToggle:!0})},M=a(292),W=a(52),_=a(306),K=a(29),U=a(291),Y=function(){var e=Object(n.useState)(1),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(W.a,{onSelect:function(e){l(e.itemId)},"aria-label":"Nav",theme:"dark"},r.a.createElement(_.a,{variant:K.a.simple},r.a.createElement(U.a,{itemId:0,isActive:0===a},"Dashboard"),r.a.createElement(U.a,{itemId:1,isActive:1===a},r.a.createElement(i.b,{to:"/applications"},"Application List")),r.a.createElement(U.a,{itemId:2,isActive:2===a},"Authentication"),r.a.createElement(U.a,{itemId:3,isActive:3===a},"Network Services"),r.a.createElement(U.a,{itemId:4,isActive:4===a},"Server")))},$=function(){return r.a.createElement(M.a,{nav:r.a.createElement(Y,null),theme:"dark"})},Q=function(e){var t=e.title,a=e.subTitle,n=e.children;return r.a.createElement(f.a,{header:r.a.createElement(J,null),sidebar:r.a.createElement($,null),isManagedSidebar:!0,mainContainerId:"main-content-page-layout-simple-nav"},r.a.createElement(E.a,{variant:E.b.light},r.a.createElement(h.a,null,r.a.createElement(g.a,{component:"h1"},t))),a&&r.a.createElement(E.a,{variant:E.b.light},a),r.a.createElement(E.a,null,n))},V={apiHost:"http://spaship.usersys.redhat.com:8008",siteHost:"http://spaship.usersys.redhat.com"},X=a(15),Z=a(63);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var te=function(e){var t=Object(n.useState)(e.application),a=Object(o.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),p=Object(o.a)(c,2),m=p[0],u=p[1],d=Object(n.useState)(!1),b=Object(o.a)(d,2),f=b[0],E=b[1];function h(e){e.currentTarget.files&&e.currentTarget.files[0]&&(i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(X.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,{upload:e.currentTarget.files[0]})),u(!0))}function v(){E(!0);var e=new FormData;e.append("name",l.name),e.append("path",l.path),e.append("ref",l.ref),e.append("upload",l.upload),fetch("".concat(V.apiHost,"/deploy"),{method:"POST",body:e}).then((function(e){return e.text()})).then((function(e){console.log(e),E(!1),u(!1)}))}function O(){u(!1)}return f?r.a.createElement(Z.Spinner,{size:"md"}):m?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{component:g.b.h6},l.upload.name),r.a.createElement(s.a,{onClick:v,variant:"primary"},"Submit"),r.a.createElement(s.a,{onClick:O,variant:"secondary"},"Cancel")):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:h,type:"file",id:"upload-".concat(l.name),"aria-describedby":"upload-helper"}),r.a.createElement(s.a,{component:"label",variant:"secondary",htmlFor:"upload-".concat(l.name)},"Deploy New File"))},ae=function(){var e=Object(n.useState)([{title:"Name"},{title:"Path"},{title:"Ref"},{title:"Actions"}]),t=Object(o.a)(e,1)[0],a=Object(n.useState)([]),l=Object(o.a)(a,2),c=l[0],p=l[1],f=Object(n.useCallback)((function(){console.log("start to fetch"),fetch("".concat(V.apiHost,"/list")).then((function(e){return e.json()})).then((function(e){p(m()(e,(function(e){return{cells:[e.name,e.path&&{title:r.a.createElement("a",{href:V.siteHost+e.path,target:"_blank",rel:"noopener noreferrer"},e.path)},e.ref&&{title:r.a.createElement("a",{href:"#".concat(e.ref)},e.ref.substring(0,6))},{title:r.a.createElement(te,{application:e})}]}})))}))}),[]);return Object(n.useEffect)((function(){f();var e=setInterval(f,5e3);return function(){return clearInterval(e)}}),[f]),r.a.createElement(Q,{title:"Application List",subTitle:r.a.createElement(i.b,{to:"/applications/new"},r.a.createElement(s.a,{variant:"primary"},"New Application"))},r.a.createElement(u.a,{cells:t,rows:c,"aria-label":"Application List"},r.a.createElement(d.a,null),r.a.createElement(b.a,null)))},ne=a(296),re=a(297),le=a(298),ie=a(299),ce=a(300),oe=a(308),pe=a(301),me=a(302);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(X.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de=Object(c.g)((function(e){var t=e.history,a=Object(n.useState)({name:"",path:"",ref:"",upload:""}),l=Object(o.a)(a,2),i=l[0],c=l[1],p=Object(n.useState)(!1),m=Object(o.a)(p,2),u=m[0],d=m[1];function b(e,t){c(ue({},i,Object(X.a)({},t.currentTarget.name,e)))}return r.a.createElement(Q,{title:"Upload to deploy"},r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Please provide app name"},r.a.createElement(ce.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name-helper",placeholder:"Name",value:i.name,onChange:b})),r.a.createElement(ie.a,{label:"Path",isRequired:!0,fieldId:"path",helperText:"Please provide app path"},r.a.createElement(oe.a,null,r.a.createElement(pe.a,{id:"site-host"},V.siteHost),r.a.createElement(ce.a,{isRequired:!0,type:"text",id:"path",name:"path",placeholder:"/path-name","aria-describedby":"path-helper",value:i.path,onChange:b}))),r.a.createElement(ie.a,{label:"Git Ref",isRequired:!0,fieldId:"ref",helperText:"Please provide Git Ref"},r.a.createElement(ce.a,{isRequired:!0,type:"text",id:"ref",name:"ref",placeholder:"Tag or Branch","aria-describedby":"ref-helper",value:i.ref,onChange:b})),r.a.createElement(ie.a,{label:"File",isRequired:!0,fieldId:"upload",helperText:"Supports uploading of .tar,.tar.bz2,.tar.gz, and.zip."},r.a.createElement("input",{onChange:function(e){var t=e.currentTarget.files&&e.currentTarget.files[0]||"";c(ue({},i,{upload:t}))},required:!0,type:"file",id:"upload",name:"upload",placeholder:"Supports uploading of .tar,.tar.bz2,.tar.gz, and.zip.","aria-describedby":"upload-helper"}),r.a.createElement("div",null,r.a.createElement(s.a,{component:"label",variant:"tertiary",htmlFor:"upload"},"Choose File"))),r.a.createElement(me.a,null,r.a.createElement(s.a,{variant:"primary",onClick:function(){d(!0),console.log(i);var e=new FormData;e.append("name",i.name),e.append("path",i.path),e.append("ref",i.ref),e.append("upload",i.upload),fetch("".concat(V.apiHost,"/deploy"),{method:"POST",body:e}).then((function(e){return e.text()})).then((function(e){console.log(e),d(!1),t.push("/applications")}))},isDisabled:u},u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.Spinner,{size:"md"}),r.a.createElement("span",null," ")),"Submit"),r.a.createElement(s.a,{variant:"secondary",onClick:function(){t.goBack()}},"Cancel"))))))})),be=function(){return r.a.createElement("div",null,"Application index")};Object(l.render)(r.a.createElement((function(){return r.a.createElement(i.a,null,r.a.createElement(c.d,null,r.a.createElement(c.a,{exact:!0,path:"/",to:"/applications"}),r.a.createElement(c.b,{path:"/applications/new",component:de}),r.a.createElement(c.b,{path:"/applications/:applicationName",component:be}),r.a.createElement(c.b,{path:"/applications",component:ae})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[131,1,2]]]);
//# sourceMappingURL=main.420876ac.chunk.js.map